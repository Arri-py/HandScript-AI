# üöÄ –Å–£!
# docs/Description_data_structure.md 

**–ö–∞–∫ —É –Ω–∞—Å –≤—Å—ë –ª–µ–∂–∏—Ç –∏ –∑–∞—á–µ–º**  

## üì¶ –ì–¥–µ –∂–∏–≤—ë—Ç –¥–∞—Ç–∞—Å–µ—Ç  
Google Drive:  
[https://drive.google.com/drive/folders/17Wfp3kLH8beWT5GRcoV5iwuVch_BtTu1?usp=sharing](https://drive.google.com/drive/folders/17Wfp3kLH8beWT5GRcoV5iwuVch_BtTu1?usp=sharing)  

–õ–æ–∫–∞–ª—å–Ω–æ –≤—Å—ë –∑–µ—Ä–∫–∞–ª–∏—Ä—É–µ—Ç—Å—è –≤ `datasets/`.

---

## üìÇ –ò—Ç–æ–≥–æ–≤–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`handwriting_recognition/`)
```
datasets/                       # ‚ûä –∫–æ—Ä–µ–Ω—å –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ raw/                        # ¬´–∫–∞–∫ —Å–∫–∞—á–∞–ª¬ª ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ photos/                 # —Å—ã—Ä—ã–µ —Ñ–æ—Ç–æ –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤ (*.jpg, *.png)
‚îÇ   ‚îú‚îÄ‚îÄ words/                  # —Ä–∞–∑–º–µ—Ç–∫–∞ ¬´bbox + —Ç–µ–∫—Å—Ç —Å–ª–æ–≤–∞¬ª
‚îÇ   ‚îî‚îÄ‚îÄ letters/                # —Ä–∞–∑–º–µ—Ç–∫–∞ ¬´bbox + —Å–∏–º–≤–æ–ª¬ª
‚îú‚îÄ‚îÄ interim/                    # ‚ûã –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ crops/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/              # –≤—ã—Ä–µ–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ words/              # –≤—ã—Ä–µ–∑–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
‚îÇ   ‚îî‚îÄ‚îÄ splits/                 # train/val/test *.txt / *.csv
‚îî‚îÄ‚îÄ processed/                  # ‚ûå –≥–æ—Ç–æ–≤–æ–µ –∫ –æ–±—É—á–µ–Ω–∏—é
‚îú‚îÄ‚îÄ detection/              # YOLO / COCO
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ labels/
‚îî‚îÄ‚îÄ recognition/            # 64√ó64 —Å–∏–º–≤–æ–ª—ã
‚îú‚îÄ‚îÄ images/
‚îî‚îÄ‚îÄ labels.csv          # image_id,label
models/                         # —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã
‚îú‚îÄ‚îÄ detection/
‚îÇ   ‚îú‚îÄ‚îÄ best.pt
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml
‚îî‚îÄ‚îÄ recognition/
‚îú‚îÄ‚îÄ crnn.pth
‚îî‚îÄ‚îÄ hparams.json
```
---

## üóÉÔ∏è –ü–æ–¥—Ä–æ–±–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É —É—Ä–æ–≤–Ω—é

| –£—Ä–æ–≤–µ–Ω—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∞–≤–∏–ª–æ |
|---------|------------|---------|
| **raw/photos** | –°—ã—Ä—ã–µ —Å–∫–∞–Ω—ã / —Ñ–æ—Ç–æ —Ç–µ—Ç—Ä–∞–¥–µ–π | –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è |
| **raw/words** | JSON / XML / TXT: bbox + transcription | –ó–∞–ª–∏–≤–∞–µ–º –∏–∑ Label Studio |
| **raw/letters** | JSON / XML / TXT: bbox + —Å–∏–º–≤–æ–ª | –ó–∞–ª–∏–≤–∞–µ–º –∏–∑ Label Studio |
| **interim/crops/pages** | –ê–≤—Ç–æ–≤—ã—Ä–µ–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–ª–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ | –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å |
| **interim/crops/words** | –ê–≤—Ç–æ–≤—ã—Ä–µ–∑–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ | –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å |
| **interim/splits** | train.txt / val.txt / test.txt | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º |
| **processed/detection** | –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è + –ª–µ–π–±–ª—ã YOLO/COCO | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º |
| **processed/recognition** | 64√ó64 —Å–∏–º–≤–æ–ª—ã, labels.csv | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º |

---

## üè∑Ô∏è –°—Ö–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤

| –¢–∏–ø | –ü—Ä–∏–º–µ—Ä –∏–º–µ–Ω–∏ | –ü–æ—è—Å–Ω–µ–Ω–∏–µ |
|-----|--------------|-----------|
| –§–æ—Ç–æ —Ç–µ—Ç—Ä–∞–¥–∏ | `nb_001.jpg` | `nb_<–Ω–æ–º–µ—Ä>` |
| –†–∞–∑–º–µ—á–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ | `word_001.json` | `word_<id>.json` |
| –†–∞–∑–º–µ—á–µ–Ω–Ω–∞—è –±—É–∫–≤–∞ | `char_001.json` | `char_<id>.json` |
| –í—ã—Ä–µ–∑–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | `page_001_003.png` | `page_<—Ñ–æ—Ç–æ>_<–Ω–æ–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã>.png` |
| –í—ã—Ä–µ–∑–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ | `w_001_003_007.png` | `w_<—Ñ–æ—Ç–æ>_<—Å—Ç—Ä–∞–Ω–∏—Ü–∞>_<–Ω–æ–º–µ—Ä_—Å–ª–æ–≤–∞>.png` |
| –ì–æ—Ç–æ–≤—ã–π —Å–∏–º–≤–æ–ª | `a_00042.png` | `<—Å–∏–º–≤–æ–ª>_<–ø–æ—Ä—è–¥–∫–æ–≤—ã–π_–Ω–æ–º–µ—Ä>.png` |

---

## üîÑ –ö–∞–∫ –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É

1. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ**  
   `scripts/sync/download.py` ‚Üí `datasets/raw`

2. **–î–µ—Ç–µ–∫—Ü–∏—è**  
   - `scripts/prepare_detection_ds.py`  
   - `raw/photos` ‚Üí `processed/detection`

3. **–ö—Ä–æ–ø —Å–ª–æ–≤**  
   - `scripts/crop_words.py`  
   - `processed/detection` ‚Üí `interim/crops/words`

4. **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤**  
   - `scripts/prepare_recognition_ds.py`  
   - `interim/crops/words` ‚Üí `processed/recognition`

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ª–µ–π–±–ª–æ–≤

| –ú–æ–¥–µ–ª—å | –§–æ—Ä–º–∞—Ç | –ü—Ä–∏–º–µ—Ä |
|--------|--------|--------|
| **–î–µ—Ç–µ–∫—Ç–æ—Ä (YOLO)** | `.txt` | `class x_center y_center width height` (–Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) |
| **–î–µ—Ç–µ–∫—Ç–æ—Ä (COCO)** | `annotations.json` | —Å—Ç–∞–Ω–¥–∞—Ä—Ç COCO |
| **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å** | `labels.csv` | `image_id,label` |

---

## üßπ –ü—Ä–∞–≤–∏–ª–∞ ¬´—á–∏—Å—Ç–æ—Ç—ã¬ª

- –í `raw/` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é.  
- –í `interim/` –º–æ–∂–Ω–æ –≤—Å—ë –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.  
- –í `processed/` —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –≥–æ—Ç–æ–≤–æ –∫ –æ–±—É—á–µ–Ω–∏—é.  
- –ù–∞–∑–≤–∞–Ω–∏—è –ø–∞–ø–æ–∫ ‚Äì —Å—Ç—Ä–æ–≥–æ **snake_case**, —Ñ–∞–π–ª—ã ‚Äì **—Å—Ç—Ä–æ—á–Ω—ã–µ**, –Ω–æ–º–µ—Ä–∞ ‚Äì **—Å –≤–µ–¥—É—â–∏–º–∏ –Ω—É–ª—è–º–∏**.
